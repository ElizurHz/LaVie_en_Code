<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Haoze Harry Xu">
  
  
  
  
  <link rel="next" href="https://elizurhz.cn/by-talk/keyboard-for-programmers/" />
  <link rel="canonical" href="https://elizurhz.cn/by-talk/apple-m1-for-fe/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           生产力硬件：Apple M1 对前端开发者有什么影响 | Variation Palladion - 撕裂时间的帕拉迪昂
       
  </title>
  <meta name="title" content="生产力硬件：Apple M1 对前端开发者有什么影响 | Variation Palladion - 撕裂时间的帕拉迪昂">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/elizurhz.cn\/"
    },
    "articleSection" : "by-talk",
    "name" : "生产力硬件：Apple M1 对前端开发者有什么影响",
    "headline" : "生产力硬件：Apple M1 对前端开发者有什么影响",
    "description" : "这篇文章主要是从我最近微博动态等提取的观点整合成的一份总结，也发在 B 站专栏了，详情可以点击这里查看\n 最近入手了 M1 Mac mini，低配加到 16G 内存，就迫不及待拿来尝试。目前从前端的角度来说，基本是正面的。\n优势 硬件上就不多说了，评测很多。M1 有计算能力、内存带宽、SSD 速度、功耗、发热等方面的优势，总体是好于 Intel 不少的。\n软件上可能有很多人担心兼容性问题。就前端来说，其实完全是可解决的问题。首先前端依赖的工具主要是 Node.js、文本编辑器（非 IDE，如 VSCode）以及 npm 生态。Node.js 是可以通过 Rosetta 2 安装及运行的，ARM 版正在研发中。VSCode 同样，不过 Insider 版本已经有 ARM 的支持了。\n至于 npm 这个就很不好说了，大部分包其实都是可以直接 import\/require 的 js 文件，并没有环境依赖，然而还是有少部分怪异的包，比如我们非常常用的 node-sass，它在安装的时候需要根据你本机环境来编译，因为开发者尚未适配，所以无法识别当前 environment，这时你只能手动编译，需要利用 unix 的 arch 指令，加上前缀 arch -x86_64 运行 npm rebuild node-sass。\n另外说到 arch -x86_64，它在 ARM 的 macOS 上其实可以起到一种“欺骗”的作用，让你的命令完全通过 Rosetta 2 以 Intel 的兼容模式运行。Homebrew 就是很好的例子，开发者尚未兼容时可以使用它来安装。不过其实没必要滥用，只需要在遇到不适配的时候使用即可。\n那么 M1 在实际开发中有什么优势呢？前端在开发中需要高性能计算的场景其实不多，除非是有特殊功能需求。比较常见的情况是跑单元测试，由于 Jest 是会占满所有 CPU 物理核心的，所以性能还是可以一定程度上从这里来评价的。实际结果大概是，接近 800 个 case，M1 比两三年前的 Intel 的 Mac 要快上 10 秒左右，而且还能同时做别的事（Intel 机子会变卡甚至可能就卡得做不了别的事了）。其他场景不好明说，但是就是“各种方面都很快”，平常对电脑的运行速度敏感的话，你应该能明显体会到。",
    "inLanguage" : "zh-CN",
    "author" : "Haoze Harry Xu",
    "creator" : "Haoze Harry Xu",
    "publisher": "Haoze Harry Xu",
    "accountablePerson" : "Haoze Harry Xu",
    "copyrightHolder" : "Haoze Harry Xu",
    "copyrightYear" : "2020",
    "datePublished": "2020-12-10 00:00:00 \u002b0000 UTC",
    "dateModified" : "2020-12-10 00:00:00 \u002b0000 UTC",
    "url" : "https:\/\/elizurhz.cn\/by-talk\/apple-m1-for-fe\/",
    "wordCount" : "211",
    "keywords" : [ "前端","开发杂谈","硬件","生产力", "Variation Palladion - 撕裂时间的帕拉迪昂"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://elizurhz.cn/">Variation Palladion - 撕裂时间的帕拉迪昂</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/frontend/" title="">Web 前端</a>
                
                <a class="menu-item" href="/by-talk/" title="">开发杂谈</a>
                
                <a class="menu-item" href="/backend/" title="">后端/运维/部署</a>
                
                <a class="menu-item" href="/mobile/" title="">移动开发</a>
                
                <a class="menu-item" href="/tips/" title="">其他技术</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://elizurhz.cn/">Variation Palladion - 撕裂时间的帕拉迪昂</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/frontend/" title="">Web 前端</a>
                
                <a class="menu-item" href="/by-talk/" title="">开发杂谈</a>
                
                <a class="menu-item" href="/backend/" title="">后端/运维/部署</a>
                
                <a class="menu-item" href="/mobile/" title="">移动开发</a>
                
                <a class="menu-item" href="/tips/" title="">其他技术</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">生产力硬件：Apple M1 对前端开发者有什么影响</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://elizurhz.cn/" rel="author">Haoze Harry Xu</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-12-10 itemprop="datePublished">December 10, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://elizurhz.cn/categories/apple/"> Apple </a>
                        <a href="https://elizurhz.cn/categories/%E5%89%8D%E7%AB%AF/"> 前端 </a>
                        <a href="https://elizurhz.cn/categories/%E5%BC%80%E5%8F%91%E6%9D%82%E8%B0%88/"> 开发杂谈 </a>
                        <a href="https://elizurhz.cn/categories/%E7%A1%AC%E4%BB%B6/"> 硬件 </a>
                        <a href="https://elizurhz.cn/categories/%E7%94%9F%E4%BA%A7%E5%8A%9B/"> 生产力 </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <blockquote>
<p>这篇文章主要是从我最近微博动态等提取的观点整合成的一份总结，也发在 B 站专栏了，详情可以点击<a href="https://www.bilibili.com/read/cv8764264">这里</a>查看</p>
</blockquote>
<p>最近入手了 M1 Mac mini，低配加到 16G 内存，就迫不及待拿来尝试。目前从前端的角度来说，基本是正面的。</p>
<h2 id="优势">优势</h2>
<p>硬件上就不多说了，评测很多。M1 有计算能力、内存带宽、SSD 速度、功耗、发热等方面的优势，总体是好于 Intel 不少的。</p>
<p>软件上可能有很多人担心兼容性问题。就前端来说，其实完全是可解决的问题。首先前端依赖的工具主要是 Node.js、文本编辑器（非 IDE，如 VSCode）以及 npm 生态。Node.js 是可以通过 Rosetta 2 安装及运行的，ARM 版正在研发中。VSCode 同样，不过 Insider 版本已经有 ARM 的支持了。</p>
<p>至于 npm 这个就很不好说了，大部分包其实都是可以直接 import/require 的 js 文件，并没有环境依赖，然而还是有少部分怪异的包，比如我们非常常用的 node-sass，它在安装的时候需要根据你本机环境来编译，因为开发者尚未适配，所以无法识别当前 environment，这时你只能手动编译，需要利用 unix 的 arch 指令，加上前缀 arch -x86_64 运行 npm rebuild node-sass。</p>
<p>另外说到 arch -x86_64，它在 ARM 的 macOS 上其实可以起到一种“欺骗”的作用，让你的命令完全通过 Rosetta 2 以 Intel 的兼容模式运行。Homebrew 就是很好的例子，开发者尚未兼容时可以使用它来安装。不过其实没必要滥用，只需要在遇到不适配的时候使用即可。</p>
<p>那么 M1 在实际开发中有什么优势呢？前端在开发中需要高性能计算的场景其实不多，除非是有特殊功能需求。比较常见的情况是跑单元测试，由于 Jest 是会占满所有 CPU 物理核心的，所以性能还是可以一定程度上从这里来评价的。实际结果大概是，接近 800 个 case，M1 比两三年前的 Intel 的 Mac 要快上 10 秒左右，而且还能同时做别的事（Intel 机子会变卡甚至可能就卡得做不了别的事了）。其他场景不好明说，但是就是“各种方面都很快”，平常对电脑的运行速度敏感的话，你应该能明显体会到。</p>
<h2 id="缺点">缺点</h2>
<p>当然缺点还是有的，一是雷电口都只有两个，二是 GPU 性能。GPU 要打目前的中高端独显是不可能的，但是其实前端开发中用不到这些。比较大的影响就是视频输出能力，Intel 的机型特别是带独显的，输出三四个非 4K 分辨率是没什么问题，但是 M1 最多只能支持 2 个屏幕（包括内建的），也就是 MacBook 只能外接一个，Mac mini 可以两个但是必须 HDMI + USB-C（双 C 还真的不行）。众所周知显示器数量和生产力成正比关系，所以这可能是个问题。不过如果有 iPad Pro 或者 iPad Air 4 的话还可以用随航接一个。</p>
<p>Bug 目前也是存在的，我遇到最严重有的两个问题。</p>
<p>首先是我这台 Mac mini 从登陆后的界面关机必报错，反应是屏幕闪一下粉色块，然后关机，再重启的话会提示有出错，然后一看 panic 都是 Apple 的东西，我也不是专家所以不知道是什么问题。如果是开机未登录的情况下关机则不会报错。</p>
<p>其次是蓝牙，偶尔会出现蓝牙全部断开的情况，比如触控板想要再度连接回去，它也直接闪粉色块然后自动重启，panic 里面显示好像是 IO 相关的问题。</p>
<p>不过好在这两个问题出现的频率不高，首先绝大部分时候不需要手动关机（Mac mini 想携带到公司这种比较少人会吧），然后蓝牙的问题不是很确定触发的原因，我用了快两周大概出现不超过3次，没有在工作中崩溃的情况，也不会担心它什么时候崩溃而导致代码未保存的丢失。蓝牙的问题据说和系统有关，有的人反馈 Intel 机子也会。</p>
<p>所以具体看苹果怎么修复这些东西了。</p>
<h2 id="总结">总结</h2>
<p>尽管有影响生产力的小问题，总体来说我对它的评价还是正面的，可以立即入手作为生产力，外接显示器的问题甚至你想为它改变你的工作流我觉得也是值的。</p>
<p>所以我已经下单准备把我以前的主力工作机 18 款 15 寸低配 MacBook Pro 拿去回收折抵换一台新的低配版 M1 MacBook Air 了，当然还是加到 16G 内存。MBP 回收有 7800 的预估价，如果正常的话我只需要多付 Care+ 和内存的钱就能用上 M1 了。</p>
<p>选择低配 Air 并且加内存的原因是：</p>
<p>第一，内存 8G 我觉得是不够用的，因为我在使用 16G 的 Mac mini 进行开发的时候经常会遇到剩余 5G 多的情况，Chrome 和 Node 都非常吃内存，所以盲猜 8G 内存应该会卡，只不过我没这个成本去试错，就直接买 16G。</p>
<p>第二，低配 Air 的 GPU，7 核和 8 核对于前端开发者来说完全没区别，以前用 Intel 集显也不是不能开发，现在 M1 的 GPU 甚至比 Intel 集显更强。然后上面提到的外接显示器的能力并没有因为 GPU 核心数而改变。最后就是也有其他人体验过 GPU 性能说没太大区别。</p>
<p>第三，SSD 因为我有雷电 3 NVME 硬盘盒 + 西数蓝盘 1T，之前用来做 FCPX 的，所以本质上无压力，这七年来我一直在用 256G 的 Mac。</p>
<p>第四，散热。温度方面我没法做判断，因为 iStat Menus 对于 M1 的支持只有到 SSD 温度，我又没测温枪去实时关注它，看别人的评价我觉得是可以接受的水平。</p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Haoze Harry Xu </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://elizurhz.cn/by-talk/apple-m1-for-fe/>https://elizurhz.cn/by-talk/apple-m1-for-fe/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可：全文转载需要本人许可，如有引用需署名。
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://elizurhz.cn/tags/%E5%89%8D%E7%AB%AF/">
                    #前端</a></span>
            
            <span class="tag"><a href="https://elizurhz.cn/tags/%E5%BC%80%E5%8F%91%E6%9D%82%E8%B0%88/">
                    #开发杂谈</a></span>
            
            <span class="tag"><a href="https://elizurhz.cn/tags/%E7%A1%AC%E4%BB%B6/">
                    #硬件</a></span>
            
            <span class="tag"><a href="https://elizurhz.cn/tags/%E7%94%9F%E4%BA%A7%E5%8A%9B/">
                    #生产力</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://elizurhz.cn/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
         
        
        <a href="https://elizurhz.cn/by-talk/keyboard-for-programmers/" class="next" rel="next" title="生产力工具：我是如何挑选键盘的">生产力工具：我是如何挑选键盘的&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://elizurhz.cn/">Haoze Harry Xu</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
