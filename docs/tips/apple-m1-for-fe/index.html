<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Haoze Harry Xu">
  
  
  
  <link rel="prev" href="https://elizurhz.cn/tips/git-upstream/" />
  
  <link rel="canonical" href="https://elizurhz.cn/tips/apple-m1-for-fe/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Apple M1 对开发者有什么影响 | Variation Palladion - 撕裂时间的帕拉迪昂
       
  </title>
  <meta name="title" content="Apple M1 对开发者有什么影响 | Variation Palladion - 撕裂时间的帕拉迪昂">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://elizurhz.cn/"
    },
    "articleSection" : "tips",
    "name" : "Apple M1 对开发者有什么影响",
    "headline" : "Apple M1 对开发者有什么影响",
    "description" : "最近入手了 M1 Mac mini，低配加到 16G 内存，就迫不及待拿来尝试。 目前从前端的角度来说，基本是正面的。 硬件上就不多说了，M1 有计算能力、内存带宽、SSD 速度、功耗、发热等方面的优势，总体体验是好于 Intel 不少的。 软件上可能有很多人担心兼容性问题。就前端来说，其实完全是可解决的问题。首先前端依赖的工具主要是 Node.js、文本编辑器（非 IDE，如 VSCode）以及 npm 生态。Node.js 是可以通过 Rosetta 2 安装及运行的，ARM 版正在研发中。VSCode 同样，不过 Insider 版本已经有 ARM 的支持了。至于 npm 这个就很不好说了，大部分包其实都是可以直接 import/require 的 js 文件，并没有环境依赖，然而还是有少部分怪异的包，比如我们非常常用的 node-sass，它在安装的时候需要根据你本机环境来编译，因为开发者尚未适配，所以无法识别当前 environment，这时你只能手动编译，需要利用 unix 的 arch 指令，加上前缀 arch -x86_64 运行 npm rebuild node-sass。 说到 arch -x86_64，它在 ARM 的 macOS 上其实可以起到一种“欺骗”的作用，让你的命令完全通过 Rosetta 2 以 Intel 的兼容模式运行。homebrew 就是很好的例子，开发者尚未兼容时可以使用它来安装。不过其实没必要滥用，只需要在遇到不适配的时候使用即可。 那么 M1 在实际开发中有什么优势呢。前端在开发中需要高性能计算的场景其实不多，除非是有特殊功能需求。比较常见的情况是跑单元测试，由于 Jest 是会占满所有 CPU 物理核心的，所以这还是可以一定程度上从前端角度来评价的。实际结果大概是，接近 800 个 case，M1 比近两年内的 Intel 的 Mac 要快上 10 秒左右，而且还能同时做别的事（Intel 机型会变卡甚至可能就卡得做不了别的事了）。 那么缺点还是有的，一是雷电口都只有两个，二是 GPU 性能。GPU 要打目前的中高端独显是不可能的，但是其实前端开发中用不到这些。比较大的影响就是视频输出能力，Intel 的机型特别是带独显的，输出三四个非 4K 分辨率是没什么问题，但是 M1 最多只能支持 2 个屏幕（包括内建的），也就是 MacBook 只能外接一个，Mac mini 可以两个但是必须 HDMI + USB-C（双 C 还真的不行[流汗 2]）。众所周知显示器数量和生产力成正比关系，所以这可能是个问题。不过如果有 iPad Pro 或者 iPad Air 4 的话还可以用随航接一个。 尽管有影响生产力的小问题，总体来说我对它的评价还是正面的，可以立即入手作为生产力，外接显示器的问题甚至你想为它改变你的工作流我觉得也是值的。 所以我已经下单准备把我以前的主力工作机 18 款 15 寸低配 MacBook Pro 拿去回收折抵换一台新的低配版 M1 MacBook Air 了，当然还是加到 16G 内存。8G 我觉得是不够用的，因为我在使用 16G 的 Mac mini 进行开发的时候经常会遇到剩余 5G 左右的情况，Chrome 和 Node 都非常吃内存，所以 8G 内存应该会非常卡。",
    "inLanguage" : "zh-CN",
    "author" : "Haoze Harry Xu",
    "creator" : "Haoze Harry Xu",
    "publisher": "Haoze Harry Xu",
    "accountablePerson" : "Haoze Harry Xu",
    "copyrightHolder" : "Haoze Harry Xu",
    "copyrightYear" : "2020",
    "datePublished": "2020-12-10 00:00:00 &#43;0000 UTC",
    "dateModified" : "2020-12-10 00:00:00 &#43;0000 UTC",
    "url" : "https://elizurhz.cn/tips/apple-m1-for-fe/",
    "wordCount" : "133",
    "keywords" : [ "Node.js", "Variation Palladion - 撕裂时间的帕拉迪昂"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://elizurhz.cn/">Variation Palladion - 撕裂时间的帕拉迪昂</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/frontend/" title="">Web 前端</a>
                
                <a class="menu-item" href="/mobile/" title="">移动开发</a>
                
                <a class="menu-item" href="/backend/" title="">后端/运维/部署</a>
                
                <a class="menu-item" href="/tips/" title="">其他</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://elizurhz.cn/">Variation Palladion - 撕裂时间的帕拉迪昂</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/frontend/" title="">Web 前端</a>
                
                <a class="menu-item" href="/mobile/" title="">移动开发</a>
                
                <a class="menu-item" href="/backend/" title="">后端/运维/部署</a>
                
                <a class="menu-item" href="/tips/" title="">其他</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Apple M1 对开发者有什么影响</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://elizurhz.cn/" rel="author">Haoze Harry Xu</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-12-10 itemprop="datePublished">December 10, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://elizurhz.cn/categories/apple/"> Apple </a>
                        <a href="https://elizurhz.cn/categories/%E5%89%8D%E7%AB%AF/"> 前端 </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <p>最近入手了 M1 Mac mini，低配加到 16G 内存，就迫不及待拿来尝试。
目前从前端的角度来说，基本是正面的。
硬件上就不多说了，M1 有计算能力、内存带宽、SSD 速度、功耗、发热等方面的优势，总体体验是好于 Intel 不少的。
软件上可能有很多人担心兼容性问题。就前端来说，其实完全是可解决的问题。首先前端依赖的工具主要是 Node.js、文本编辑器（非 IDE，如 VSCode）以及 npm 生态。Node.js 是可以通过 Rosetta 2 安装及运行的，ARM 版正在研发中。VSCode 同样，不过 Insider 版本已经有 ARM 的支持了。至于 npm 这个就很不好说了，大部分包其实都是可以直接 import/require 的 js 文件，并没有环境依赖，然而还是有少部分怪异的包，比如我们非常常用的 node-sass，它在安装的时候需要根据你本机环境来编译，因为开发者尚未适配，所以无法识别当前 environment，这时你只能手动编译，需要利用 unix 的 arch 指令，加上前缀 arch -x86_64 运行 npm rebuild node-sass。
说到 arch -x86_64，它在 ARM 的 macOS 上其实可以起到一种“欺骗”的作用，让你的命令完全通过 Rosetta 2 以 Intel 的兼容模式运行。homebrew 就是很好的例子，开发者尚未兼容时可以使用它来安装。不过其实没必要滥用，只需要在遇到不适配的时候使用即可。
那么 M1 在实际开发中有什么优势呢。前端在开发中需要高性能计算的场景其实不多，除非是有特殊功能需求。比较常见的情况是跑单元测试，由于 Jest 是会占满所有 CPU 物理核心的，所以这还是可以一定程度上从前端角度来评价的。实际结果大概是，接近 800 个 case，M1 比近两年内的 Intel 的 Mac 要快上 10 秒左右，而且还能同时做别的事（Intel 机型会变卡甚至可能就卡得做不了别的事了）。
那么缺点还是有的，一是雷电口都只有两个，二是 GPU 性能。GPU 要打目前的中高端独显是不可能的，但是其实前端开发中用不到这些。比较大的影响就是视频输出能力，Intel 的机型特别是带独显的，输出三四个非 4K 分辨率是没什么问题，但是 M1 最多只能支持 2 个屏幕（包括内建的），也就是 MacBook 只能外接一个，Mac mini 可以两个但是必须 HDMI + USB-C（双 C 还真的不行[流汗 2]）。众所周知显示器数量和生产力成正比关系，所以这可能是个问题。不过如果有 iPad Pro 或者 iPad Air 4 的话还可以用随航接一个。
尽管有影响生产力的小问题，总体来说我对它的评价还是正面的，可以立即入手作为生产力，外接显示器的问题甚至你想为它改变你的工作流我觉得也是值的。
所以我已经下单准备把我以前的主力工作机 18 款 15 寸低配 MacBook Pro 拿去回收折抵换一台新的低配版 M1 MacBook Air 了，当然还是加到 16G 内存。8G 我觉得是不够用的，因为我在使用 16G 的 Mac mini 进行开发的时候经常会遇到剩余 5G 左右的情况，Chrome 和 Node 都非常吃内存，所以 8G 内存应该会非常卡。</p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Haoze Harry Xu </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://elizurhz.cn/tips/apple-m1-for-fe/>https://elizurhz.cn/tips/apple-m1-for-fe/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可：全文转载需要本人许可，如有引用需署名。
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://elizurhz.cn/tags/node.js/">
                    #Node.js</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://elizurhz.cn/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://elizurhz.cn/tips/git-upstream/" class="prev" rel="prev" title="GitHub 上 Fork 的仓库如何与原仓库同步并提交内容"><i class="iconfont icon-left"></i>&nbsp;GitHub 上 Fork 的仓库如何与原仓库同步并提交内容</a>
         
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://elizurhz.cn/">Haoze Harry Xu</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
